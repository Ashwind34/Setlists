<h1>SETLIST APP</h1>
<h2 style="color:red" *ngIf="saveMessage">{{saveMessage}}</h2>
<h2><button (click)="showLists()">Show Lists</button></h2>

<div class="container">

  <div class="list-container">
    <div class="titlebox">
      <h3>Set List</h3>
      <h4>Current Runtume: {{ totalSetTime.minutes }}:{{ totalSetTime.seconds | number:'2.0-0' }}</h4>
    </div>
    <div
      cdkDropList
      id="setList"
      [cdkDropListData]="setList"
      [cdkDropListConnectedTo]="['songList']"
      class="list"
      (cdkDropListDropped)="drop($event)">
      <div class="songCard" *ngFor="let song of setList, let i = index" cdkDrag>
        <mat-card>
          <mat-card-title>
            <span>{{i + 1}})&nbsp;</span>
            <span *ngIf="song.artist">{{song.artist}} -&nbsp;</span>
            {{song.name}}
          </mat-card-title>
          <mat-card-content class="setList">
            <div class="songData">{{song.album}}</div>
            <div class="songData">{{song.runMinutes}}:{{song.runSeconds | number:'2.0-0'}}</div>
            <div class="songData">
              <mat-icon class="red"(click)="deleteFromSet(song, i)">delete</mat-icon>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
  </div>

  <div class="list-container songList">
    <div class="titlebox">
      <h3>Song List</h3>
      <button mat-stroked-button (click)="openSongDialog()">Add A Song</button>
    </div>
    <div
      cdkDropList
      id="songList"
      [cdkDropListData]="songList"
      [cdkDropListConnectedTo]="['setList']"
      class="list songList"
      (cdkDropListDropped)="drop($event)">
      <div class="songCard" *ngFor="let song of songList, let i = index" cdkDrag>
        <mat-card>
          <mat-card-title><span *ngIf="song.artist">{{song.artist}} -&nbsp;</span> {{song.name}}</mat-card-title>
          <mat-card-content class="songList">
            <div class="songData">{{song.album}}</div>
            <div class="songData">{{song.runMinutes}}:{{song.runSeconds | number:'2.0-0'}}</div>
            <div class="songData">
              <mat-icon class="green" (click)="add(song, i)">add_box</mat-icon>
              <mat-icon class="red" (click)="deleteFromList(song, i)">delete</mat-icon>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
  </div>

</div>

